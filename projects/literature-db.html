<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="icon" href="favicon.ico"> 
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="icon" href="favicon.ico"> 
<!-- I just can't get this favicon to load -->

    <meta name="author" content="Ronik Bhaskar">


    <meta name="subtitle" content="Maker & Student of Life">

 
    <meta name="description" content="Self-described maker and student of life sharing his journey with the world. I am a PhD student at the University of Chicago.">


    <meta name="keywords" content="research, programming, computer science, math, art, writing, stories">




<title>Literature DB (WIP) | Ronik Bhaskar</title>



    <link rel="icon" href="/base_logo_black_white_circle.ico">
    <!-- <link rel="icon" href="favicon.ico?" type="image/x-icon"> -->



<style>
    @import url('https://fonts.googleapis.com/css2?family=Libre+Caslon+Text&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    







    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>






<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YG0RQTX7GQ"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-YG0RQTX7GQ');
</script>
<!-- End Google Analytics -->




  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            <img class="logo-img" src="/base_logo_black.png" alt="logo_image">
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        <script>
            function toggleMenu() {
                var menuList = document.getElementsByClassName("menu-list")[0];
                var menuButton = document.getElementById("menu-btn");  
                if(menuList.classList.contains("active")){
                  menuList.classList.remove("active");
                  menuButton.innerHTML = "MENU";
                }else{
                  menuList.classList.add("active");
                  menuButton.innerHTML = "<div class=\"icon arrow-up\"> </div>";
                }
            }
        </script>
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/publications/">Publications</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/projects/">Projects</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/about/">About</a>
              </li> 
                   
          
          
            <li class="menu-item search-btn">
              <a href="#">Search</a>
            </li>
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="post-title">
            
            
                Literature DB (WIP)
            
            
        </div>
    </div>
    <div class="h-line-primary"></div>
</div>
    <div class="post-content">
    <p>The code can be found <a target="_blank" rel="noopener" href="https://github.com/ronikbhaskar/literature-db">here</a>.</p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>Literature DB (LitDB) is a lightweight literature database that allows users to store and manage texts. Entries can be added manually or by scraping websites. Each entry maintains simple, bibliographic data. Separate text files are used for storing the contents of the text and an associated Markdown file for notes. Texts can be rendered as HTML for easy reading, and texts can be quickly searched using a multithreaded search for both substrings and regex.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>Clone the project and install the requirements.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ronikbhaskar/literature-db</span><br><span class="line"><span class="built_in">cd</span> literature-db</span><br><span class="line"><span class="comment"># create an environment if you so choose</span></span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Currently, there is no user interface, but the functions have been simplified enough for Python itself to be the interface. Begin by running the main script with the REPL flag.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -i main.py</span><br></pre></td></tr></table></figure>

<p>The database can be accessed as the variable <code>litdb</code>. </p>
<h3 id="Adding-Entries"><a href="#Adding-Entries" class="headerlink" title="Adding Entries"></a>Adding Entries</h3><p>To add an entry from a URL, use:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>litdb.scrape(url)</span><br></pre></td></tr></table></figure>

<p>This will autopopulate as many fields as possible. It also generates a notes template.</p>
<h3 id="Searching-for-Entries"><a href="#Searching-for-Entries" class="headerlink" title="Searching for Entries"></a>Searching for Entries</h3><p>To search for entries, use:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>search(term)</span><br></pre></td></tr></table></figure>

<p>where <code>term</code> is either a substring or a regex. <code>re</code> is already imported, so you can run <code>search(re.compile(...))</code> with no additional code.</p>
<h3 id="Removing-Entries"><a href="#Removing-Entries" class="headerlink" title="Removing Entries"></a>Removing Entries</h3><p>To remove an entry, use:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>litdb.remove_cascade(doc_id)</span><br></pre></td></tr></table></figure>

<p>where <code>doc_id</code> is the numeric id of the entry. This is also the name of the directory in which the text is stored. Use <code>remove_cascade</code> instead of <code>remove</code> to get rid of the associated text files.</p>
<h3 id="Rendering-Entries"><a href="#Rendering-Entries" class="headerlink" title="Rendering Entries"></a>Rendering Entries</h3><p>To render an entry as HTML, use either of the following:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>render_doc_id(doc_id)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>render(entry) <span class="comment"># entry must be of the Entry class, not Document</span></span><br></pre></td></tr></table></figure>

<p>The function will print the location of the saved <code>index.html</code>, though it can also be found in the <code>litdb</code> directory.</p>

</div> 
<link rel="icon" href="favicon.ico">
<script>
    try {
        window.onload = detectors();
    } catch (error) { // doesn't seem to pose an issue when nothing happens
        console.log(error);
    }
    
</script>
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
                Â© Ronik Bhaskar, 2022 - 2024  
            
                
        </div>
    </div>
</div>

    </div>

    
      <div class="search-popup">
    <div class="search-popup-overlay">  
    </div>
    <div class="search-popup-window" >
        <div class="search-header">
            <div class="search-input-container">
              <input autocomplete="off" autocapitalize="off" maxlength="80"
                     placeholder="Search Anything" spellcheck="false"
                     type="search" class="search-input">
            </div>
            <div class="search-close-btn">
                <div class="icon close-btn"></div>
            </div>
        </div>
        <div class="search-result-container">
        </div>
    </div>
</div>

<script>
    const searchConfig = {
        path             : "/search.xml",
        top_n_per_article: "1",
        unescape         : "false",
        trigger: "auto",
        preload: "false"
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script>
<script src="/js/search.js"></script>
    
    

  </body>
</html>
